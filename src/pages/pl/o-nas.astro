---
import AboutLayout from "@/layouts/AboutLayout.astro";
import { getAboutForLocale } from "@/utils/about";
import { render } from "astro:content";

const locale = "pl";
const about = await getAboutForLocale(locale);

let Content;

let frontmatter: { title: string; description?: string } = {
  title: "",
};

if (about) {
  const rendered = await render(about);
  Content = rendered.Content;

  frontmatter = {
    title: about.data.title,
    description: about.data.description,
  };
}
---

<AboutLayout frontmatter={frontmatter}>
  {Content ? <Content /> : <p />}
</AboutLayout>
